filtro5<-strsplit(filtro4," ")
require(stringr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-strsplit(filtro4$contenido," ")
View(filtro5)
filtro5[[1]]
require(stringr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtroComa<-strsplit(filtro4$contenido,",")
filtroEspacio<-strsplit(filtroComa[0]," ")
View(filtroComa)
View(filtro4)
require(stringr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4[, c("datos1", "datos2","datos3") := tstrsplit(contenido, ",", fixed=TRUE)]
require(stringr)
require(data.table)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4[, c("datos1", "datos2","datos3") := tstrsplit(contenido, ",", fixed=TRUE)]
install.packages("data.table")
require(stringr)
require(data.table)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4[, c("datos1", "datos2","datos3") := tstrsplit(contenido, ",", fixed=TRUE)]
install.packages("data.table",
repos="http://R-Forge.R-project.org")
install.packages("data.table", repos = "http://R-Forge.R-project.org")
require(stringr)
require(data.table)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4[, c("datos1", "datos2","datos3") := tstrsplit(contenido, ",", fixed=TRUE)]
View(filtro4)
require(stringr)
require(data.table)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4 %>%
separate(contenido, c("datos1", "datos2","datos3"), ",")
install.packages("tidyr")
require(stringr)
library(tidyr)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4 %>%
separate(contenido, c("datos1", "datos2","datos3"), ",")
View(filtro5)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%
separate(contenido, c("datos1", "datos2","datos3"), ",")
View(filtro5)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","Mag:Number","Prof","ProfValue"), " ")
View(filtro6)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","Mag:Number","Prof","ProfValue","km"), " ")
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1,-TL,-Prof, c("fechaHora", "TL","Mag:Number","Prof","ProfValue","km"), " ")
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1,-datos2, c("fechaHora", "TL","Mag:Number","Prof","ProfValue","km"), " ")
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", NULL,"Mag:Number",NULL,"ProfValue",NULL), " ")
View(filtro6)
View(filtro6)
View(filtro5)
View(filtro5)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","Mag:Number","Prof","ProfValue","km"), " ")
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","Mag:Number","Prof","Profundidad","km"), " ")
filtro4<-filtro2[c(56:430),c(1:2)]
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","Mag:Number","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
View(filtro7)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","Mag:Number","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(datos3,c("Provincia","URL")," ")
filtro9<-filtro8 %>%separate(Mag:Number,c("Mag","Magnitud"),":")
View(filtro8)
View(filtro8)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","MagNumber","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(datos3,c("Provincia","URL")," ")
filtro9<-filtro8 %>%separate(MagNumber,c("Mag","Magnitud"),":")
View(filtro9)
View(filtro8)
View(filtro8)
View(filtro7)
View(filtro7)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","MagNumber","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(MagNumber,c("Mag","Magnitud"),":")
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","MagNumber","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(MagNumber,c("Mag","Magnitud"),":")
filtro8$TL<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","MagNumber","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(MagNumber,c("Mag","Magnitud"),":")
filtro8$TL<-NULL
filtro8$Mag<-NULL
filtro8$Prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","datos3"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","MagNumber","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(MagNumber,c("Mag","Magnitud"),":")
filtro8$TL<-NULL
filtro8$Mag<-NULL
filtro8$Prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
filtro8$fecha<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","Provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "TL","MagNumber","Prof","Profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("Fecha","Hora"),"-")
filtro8<-filtro7 %>%separate(MagNumber,c("Mag","Magnitud"),":")
filtro8$Provincia<-str_sub(filtro8$provincia,start=gregexpr("http",filtro8$provincia))
filtro8$TL<-NULL
filtro8$Mag<-NULL
filtro8$Prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
filtro8$fecha<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro2$fecha<-NULL
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(MagNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,start=gregexpr("http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro2$fecha<-NULL
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,start=gregexpr("http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro2$fecha<-NULL
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr("http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro2$fecha<-NULL
filtro4<-filtro2[c(56:430),c(1:2)]
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro2$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro2$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
write.table(filtro4, "filtrado.csv", append = FALSE, sep = "|",row.names = FALSE, col.names = TRUE)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro2$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
write.table(filtro4, "filtrado.csv", append = FALSE, sep = "|",row.names = FALSE, col.names = TRUE)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro2$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
write.table(filtro4, "filtrado.csv", append = FALSE, sep = "|",row.names = FALSE, col.names = TRUE)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
write.table(filtro8, "filtrado.csv", append = FALSE, sep = "|",row.names = FALSE, col.names = TRUE)
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
##filtro1<-str_sub(procesamiento[1,"fecha"], start= -4)
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
write.table(filtro8, "filtrado.csv", append = FALSE, sep = "|",row.names = FALSE, col.names = TRUE,quote = FALSE)
install.packages("tidyr")
require(stringr)
library(tidyr)
procesamiento <- read.csv(file="tweetsIG.csv",header=TRUE,sep="|")
filtro<-subset(procesamiento,str_sub(fecha,start=-4)=="2018")
filtro2<-subset(filtro,grepl("Rev.",contenido))
filtro2$contenido<-str_sub(filtro2$contenido,start=gregexpr("2018(-|/)",filtro2$contenido))
filtro4<-filtro2[c(56:430),c(1:2)]
filtro4$fecha<-NULL
filtro5<-filtro4 %>%separate(contenido, c("datos1", "datos2","provincia"), ",")
filtro6<-filtro5 %>%separate(datos1, c("fechaHora", "tl","magNumber","prof","profundidad","km"), " ")
filtro7<-filtro6 %>%separate(fechaHora,c("fecha","hora"),"-")
filtro8<-filtro7 %>%separate(magNumber,c("mag","magnitud"),":")
filtro8$provincia<-str_sub(filtro8$provincia,end =gregexpr(" http",filtro8$provincia))
filtro8$tl<-NULL
filtro8$mag<-NULL
filtro8$prof<-NULL
filtro8$km<-NULL
filtro8$datos2<-NULL
View(procesamiento)
